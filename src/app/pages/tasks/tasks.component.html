<p-table #pt tableStyleClass="tasks-table" [value]="items" [globalFilterFields]="['name', 'taskNumber']" dataKey="id">
  <ng-template pTemplate="body" let-item let-rowIndex="rowIndex">
    <tr class="task-project" *ngIf="rowGroupMetadata[item.projectId].index === rowIndex">
      <td class="task-project__cell">
        <h4 class="task-project__name p-my-0">{{ item.projectName }}</h4>
      </td>

      <td></td>
    </tr>

    <tr class="task">
      <td class="task__cell">
        <span class="task__number">#{{ item.taskNumber }}</span>

        <span class="task__name p-ml-2">{{ item.name }}</span>
      </td>

      <td class="task__cell">
        <span
          class="task__status p-tag p-tag-info"
          [ngClass]="{
            'p-tag-warning': item.status === TaskStatus.InProgress,
            'p-tag-success': item.status === TaskStatus.Done
          }"
          >{{ item.status }}</span
        >
      </td>

      <!-- <td style="text-align: center">
        <ng-container>
          <button
            pButton
            pRipple
            type="button"
            pInitEditableRow
            icon="pi pi-pencil"
            (click)="onRowEditInit(item)"
            class="p-button-rounded p-button-text"
          ></button>

          <button
            pButton
            pRipple
            type="button"
            pInitEditableRow
            icon="pi pi-trash"
            (click)="onRowDelete(item, ri)"
            class="p-button-rounded p-button-text"
          ></button>
        </ng-container>
      </td> -->
    </tr>
  </ng-template>
</p-table>

<app-add-btn (clickBtn)="onAddBtnClick()"></app-add-btn>

<p-dialog header="Create Task" [(visible)]="isDialogVisible" [style]="{ width: '50vw' }">
  <app-task-creation
    [projects]="projects"
    [appService]="appService"
    (createTask)="onTaskCreation($event)"
  ></app-task-creation>
</p-dialog>
